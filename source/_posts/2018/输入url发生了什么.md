---
title: 输入url发生了什么？
urlname: article7
date: 2018-08-27 19:05:57
tags: HTTP
---

>HTTP协议

1. 域名解析
 1. 首先浏览器会解析url域名对应的IP地址
 2. 浏览器搜索自身的DNS缓存，看是否有url对应的条目，如果有且没有过期则解析到此结束
 3. 如果没有找到对应条目，就会往操作系统自身的DNS缓存，一直往上尝试读取hosts文件，若都没有，浏览器就会发起一个DNS的系统调用，就会向本地配置的首选DNS服务器发起域名解析请求，运营商的DNS服务器首先查找自身的缓存，找到对应的条目，且没有过期，则解析成功
2. 发起TCP的3次握手
	三次握手：
	① A向B发送建立连接请求。A=》B
	② B收到A的发送信号，并且向A发送确认信息。B=》A
	③ A收到B的确认信号，并且向B发送确认信号。A=》B
	四次挥手：
	① A向B发起请求，表示A没有数据要发送了。A=》B
	② B向A发送确认信号，确认A的断开请求收到。B=》A
	③ B向A发送信号，请求断开连接，表示B没有数据要发送了。B=》A
	④ A向B发送确认信号，同意断开。A=》B

	为什么②、③次挥手不能合在一次挥手中？
	因为此时A是不再发送数据了，但可以接收数据。B可能还会发送数据给A，所以两次挥手不能合并为一次。
3. 建立TCP连接后发起http请求
4. 服务器响应http请求，浏览器得到html代码
5. 浏览器解析html代码，并请求html代码中的资源
6. 浏览器对页面进行渲染呈现给用户